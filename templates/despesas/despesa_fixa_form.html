{% extends 'base.html' %}

{% load custom_filters %}

{% block content %}
<div class="container py-4">

  <!-- üîπ T√≠tulo elegante -->
  <div class="text-center mb-4">
    <h3 class="fw-bold text-primary">
      <i class="fas fa-coins me-2"></i>{{ acao }} Despesa Fixa
    </h3>
    <p class="text-muted">Preencha os campos abaixo com aten√ß√£o</p>
  </div>

  <!-- üîπ Mensagens -->
  {% if messages %}
    {% for msg in messages %}
      <div class="alert alert-{{ msg.tags }} shadow-sm rounded-3">{{ msg }}</div>
    {% endfor %}
  {% endif %}

  <!-- üîπ Formul√°rio -->
  <form method="post" novalidate class="bg-white shadow-sm p-4 rounded-4 border">
    {% csrf_token %}

    <div class="row g-4">
      <div class="col-md-6">
        <label for="{{ form.sector.id_for_label }}" class="form-label fw-semibold">
          <i class="fas fa-layer-group me-1 text-secondary"></i>{{ form.sector.label }}
        </label>
        {{ form.sector|add_class:"form-select form-select-sm" }}
        {% if form.sector.errors %}
          <div class="text-danger small">{{ form.sector.errors }}</div>
        {% endif %}
      </div>

      <div class="col-md-6">
        <label for="{{ form.categoria.id_for_label }}" class="form-label fw-semibold">
          <i class="fas fa-tags me-1 text-secondary"></i>{{ form.categoria.label }}
        </label>
        {{ form.categoria|add_class:"form-select form-select-sm" }}
        {% if form.categoria.errors %}
          <div class="text-danger small">{{ form.categoria.errors }}</div>
        {% endif %}
      </div>

      <div class="col-md-6">
        <label for="{{ form.valor.id_for_label }}" class="form-label fw-semibold">
          <i class="fas fa-money-bill-wave me-1 text-secondary"></i>{{ form.valor.label }}
        </label>
        {{ form.valor|add_class:"form-control form-control-sm text-end" }}
        {% if form.valor.errors %}
          <div class="text-danger small">{{ form.valor.errors }}</div>
        {% endif %}
      </div>

      <div class="col-md-6">
        <label for="{{ form.periodicidade.id_for_label }}" class="form-label fw-semibold">
          <i class="fas fa-calendar-alt me-1 text-secondary"></i>{{ form.periodicidade.label }}
        </label>
        {{ form.periodicidade|add_class:"form-select form-select-sm" }}
        {% if form.periodicidade.errors %}
          <div class="text-danger small">{{ form.periodicidade.errors }}</div>
        {% endif %}
      </div>

      <div class="col-12">
        <label for="{{ form.descricao.id_for_label }}" class="form-label fw-semibold">
          <i class="fas fa-file-alt me-1 text-secondary"></i>{{ form.descricao.label }}
        </label>
        {{ form.descricao|add_class:"form-control form-control-sm" }}
        {% if form.descricao.errors %}
          <div class="text-danger small">{{ form.descricao.errors }}</div>
        {% endif %}
      </div>

      <div class="col-12">
        <label for="{{ form.observacao.id_for_label }}" class="form-label fw-semibold">
          <i class="fas fa-comment-dots me-1 text-secondary"></i>{{ form.observacao.label }}
        </label>
        {{ form.observacao|add_class:"form-control form-control-sm" }}
        {% if form.observacao.errors %}
          <div class="text-danger small">{{ form.observacao.errors }}</div>
        {% endif %}
      </div>

      <div class="col-md-4">
        <label for="{{ form.data_inicio.id_for_label }}" class="form-label fw-semibold">
          <i class="fas fa-calendar-day me-1 text-secondary"></i>{{ form.data_inicio.label }}
        </label>
        {{ form.data_inicio|add_class:"form-control form-control-sm" }}
        {% if form.data_inicio.errors %}
          <div class="text-danger small">{{ form.data_inicio.errors }}</div>
        {% endif %}
      </div>

      <div class="col-md-4">
        <label for="{{ form.responsavel.id_for_label }}" class="form-label fw-semibold">
          <i class="fas fa-user-tie me-1 text-secondary"></i>{{ form.responsavel.label }}
        </label>
        {{ form.responsavel|add_class:"form-select form-select-sm" }}
        {% if form.responsavel.errors %}
          <div class="text-danger small">{{ form.responsavel.errors }}</div>
        {% endif %}
      </div>

      <div class="col-md-4 d-flex align-items-center justify-content-start">
        <div class="form-check mt-3">
          {{ form.ativo }}
          <label class="form-check-label fw-semibold ms-1" for="{{ form.ativo.id_for_label }}">
            {{ form.ativo.label }}
          </label>
        </div>
      </div>
    </div>

    <!-- üîπ Bot√µes -->
    <div class="mt-4 text-center">
      <button class="btn btn-primary px-4 rounded-pill shadow-sm me-2">
        <i class="fas fa-save me-1"></i>{{ acao }}
      </button>
      <a class="btn btn-outline-secondary px-4 rounded-pill shadow-sm" href="{% url 'listar_despesas_fixas' %}">
        <i class="fas fa-times me-1"></i>Cancelar
      </a>
    </div>
  </form>
</div>
{% endblock %}
