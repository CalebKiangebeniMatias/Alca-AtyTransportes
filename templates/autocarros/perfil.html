{% extends 'base.html' %}
{% block title %}Perfil - {{ user.username }}{% endblock %}

{% block content %}
<style>
  /* Usar as cores padrão declaradas em base.html via variáveis CSS */
  /* Não sobrescrever o background do body: o base.html já define o gradiente global */

  .profile-card {
    border: none;
    border-radius: 18px;
    /* utilizar o glass-bg do tema para coerência */
    background: var(--glass-bg);
    color: var(--accent-color);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    transition: all 0.4s ease;
    animation: fadeInUp 0.8s ease forwards;
  }

  .profile-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.12);
  }

  .profile-avatar {
    width: 110px;
    height: 110px;
    border-radius: 50%;
    /* usar as cores secundárias e de sucesso do tema */
    background: linear-gradient(135deg, var(--secondary-color), var(--success-color));
    color: var(--accent-color);
    font-size: 2.8rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 15px;
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.18);
    position: relative;
    overflow: hidden;
  }

  .profile-avatar::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.18) 0%, transparent 70%);
    animation: shine 3s infinite linear;
  }

  @keyframes shine {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  .profile-card h4 {
    font-weight: 700;
    color: var(--secondary-color);
  }

  .badge {
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: 500;
    background: var(--success-color);
    color: var(--accent-color);
  }

  .profile-info p {
    font-size: 0.95rem;
    padding: 8px 0;
    margin-bottom: 6px;
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }

  .profile-info i {
    color: var(--secondary-color);
  }

  .btn-outline-danger {
    border-radius: 12px;
    transition: all 0.3s ease;
    border-color: rgba(255,255,255,0.12);
    color: var(--accent-color);
  }

  .btn-outline-danger:hover {
    /* usar a cor primária do tema como hover para coerência */
    background-color: var(--primary-color);
    color: var(--accent-color);
    transform: scale(1.03);
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(25px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>

<div class="d-flex justify-content-center align-items-center" style="min-height: 90vh;">
  <div class="card profile-card p-4 text-center" style="max-width: 480px; width: 100%;">
    
    <div class="profile-avatar">
      {{ user.username|first|upper }}
    </div>

    <h4 class="mb-1">{{ user.username }}</h4>
    <span class="badge bg-success mb-3">
      {{ user.get_nivel_acesso_display }}
    </span>

    <div class="profile-info text-start px-3">
      <p><i class="fas fa-envelope me-2"></i><strong>Email:</strong> {{ user.email }}</p>
      <p><i class="fas fa-phone me-2"></i><strong>Telefone:</strong> {{ user.telefone|default:"—" }}</p>
      <p><i class="fas fa-calendar-alt me-2"></i><strong>Data de Registro:</strong> {{ user.data_registro|date:"d/m/Y H:i" }}</p>
    </div>

    <div class="text-center mt-4">
      <a href="{% url 'logout' %}" class="btn btn-outline-danger px-4">
        <i class="fas fa-sign-out-alt me-2"></i> Sair
      </a>
    </div>
  </div>
</div>
{% endblock %}
